<!doctype html>
<html lang="en">
  <head>
  <!-- Metadata declarations -->
  <meta charset="utf-8" />
  <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Content declarations -->
  <title>Fractaled Mind</title>
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="feed.xml" />

  <!-- External Resources -->
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js" ></script>

  <!-- Internal Resources -->
  <link href="../../stylesheets/main.css" rel="stylesheet" type="text/css" />
  <link href="../../images/favicon.png" rel="icon" type="image/png" />
  <script src="../../javascripts/bigfoot.min.js" type="text/javascript"></script>
  <script src="../../javascripts/search.js" type="text/javascript"></script>

  <!-- Bigfoot.js Popover Footnotes -->
  <script type="text/javascript">
    $(document).ready(function(){
      $.bigfoot(
        { numberResetSelector: ".card" }
      );
    });
  </script>

  <!-- Responsive Tables -->
  <script type="text/javascript">
    $(document).ready(function(){
      $("td").each(function() {
        var $th = $(this).closest('table').find('th').eq($(this).index());
        $(this).attr('data-th', $th.text());
      });
    });
  </script>

  <!-- Scroll-Fix sidebar
  <script type="text/javascript">
    $(window).on("scroll", function(e) {
      var scroll = $(this).scrollTop();
      var logo_height = $('#site-logo').height();
      var nav_height = $('.navigation').height() + 16;

      if (scroll > logo_height) {
        $('.navigation').css({'position': 'fixed'});
         $('#sidebar').css({
           'position': 'fixed',
           'top': nav_height
         });
      } else {
        $('.navigation').css({'position': 'inherit'});
        $('#sidebar').css({'position': 'inherit'});
      }
    });
  </script>
  -->

</head>

  <body>
    <header>
  <div id="site-logo">
    <img alt="Fractaled Mind" src="../../images/logo.svg" />
  </div>

  <ul id="social-networks">
    <li>
      <a href="https://facebook.com/fractaledmind" class="no-hvr">
        <i class="fa fa-facebook fa-lg"></i>
      </a>
    </li>
    <li>
      <a href="https://twitter.com/fractaledmind" class="no-hvr">
        <i class="fa fa-twitter fa-lg"></i>
      </a>
    </li>
    <li>
      <a href="https://github.com/smargh" class="no-hvr">
        <i class="fa fa-github fa-lg"></i>
      </a>
    </li>
    <li>
      <a href="mailto:stephen@fractaledmind.com" class="no-hvr">
        <i class="fa fa-envelope fa-lg"></i>
      </a>
    </li>
    <li>
      <a href="/feed.xml" class="no-hvr">
        <i class="fa fa-rss fa-lg"></i>
      </a>
    </li>
  </ul>
</header>

    <div class="navigation">
  <nav role="navigation">
    <ul class="navigation-menu">
      <li class="nav-link"><a href="/">home</a></li>
      <li class="nav-link"><a href="/jots">jots</a></li>
      <li class="nav-link"><a href="/projects">projects</a></li>
    </ul>
  </nav>

  <div id="search">
    <div class="searchbar">
      <form role="search" action="/search" method="get">
        <input class="search-term" type="search" placeholder="Search..." name="q" />
        <button class="search-submit" type="submit">
          <img src="https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/search-icon-black.png" alt="Search Icon">
        </button>
      </form>
    </div>
  </div>
</div>


    <div id="main" role="main">
      <div class="card" id="project-page">

      <ul class="card-tags">
          <li>
            <!-- If project-tag is also a blog-tag, link to it -->
              <a class="badge no-hvr" id="git" href="/topics/git">git</a>
          </li>
          <li>
            <!-- If project-tag is also a blog-tag, link to it -->
              <a class="badge no-hvr" id="bash" href="/topics/bash">bash</a>
          </li>
      </ul>

    <div class="card-image">
      <!-- if project has tags, add filler element -->
        <div id="tag-filler-space"></div>
      <!-- if project has header image, add it -->
        <img src="../../images/projects/git-do.svg" />
    </div>

    <h2 id="title">git-do</h2>

    <hr class="fractal">

    <h4 id="repo"><a href="https://github.com/smargh/git-do">GitHub Repo</a></h4>

    <div id="description"><h4 id="version-01">Version 0.1</h4>

<h4 id="download-on-githubhttpsgithubcomsmarghgit-do">Download on <a href="https://github.com/smargh/git-do">GitHub</a></h4>

<p><strong><code>git-do</code></strong> is a <a href="https://git-scm.com/">Git</a> extension that adds a new perspective to the standard Git workflow. I conceive of it as a promises-based workflow.</p>

<p>To better explain, let me begin by laying out the default Git workflow:</p>

<ul>
  <li>You start working on a new feature/fix/item</li>
  <li>Maybe you create a new branch for this feature to live in</li>
  <li>You get in the flow and knockout the feature in 1 hour</li>
  <li>You realize you should commit some of this great workflow</li>
  <li>You want your commit history to be clean and readable, so you want to chunk your work into logical commits</li>
  <li>So, you use <code>git status</code> and <code>git diff</code> to figure out which changes/additions/deletions should live together in a single commit</li>
  <li>This whole time, your mind is running forward, thinking of the next thing you <em>actually want to code</em></li>
</ul>

<p>This general flow happens to me almost every time I code. I'm future oriented, always thinking about what's next. So, few things bog me down quite like having to stop after writing code only to retroactively document what I've done. This is Git's default point-of-view: backwards-facing, past-oriented. You can only commit <em>after</em> you've done some work.</p>

<p>Now, of course, this makes good sense. How could you commit nothing? You need to have done something in order to commit it. Yes, but committing is more than simply adding your work to the Git history; committing is also directly tied to documenting, describing, and summarizing your work. As many developers have argued, commit messages explain <em>why</em> the changes are there (diffs explain <em>what</em> changed).</p>

<p>In an intriguing and well-written <a href="https://arialdomartini.wordpress.com/2012/09/03/pre-emptive-commit-comments/">blog post</a>, Arialdo Martini suggests that pre-emptive commit messages confer a number of benefits:</p>

<ol>
  <li>More focus while developing</li>
  <li>Commit review is easier</li>
  <li>Less cognitive load</li>
  <li>More precise comments</li>
  <li>Declaration of intent</li>
  <li>Triggers micro design session</li>
  <li>Sets a micro goal</li>
  <li>Creates a little timebox</li>
  <li>Commit history gains balanced granularity</li>
</ol>

<p>I heartily recommend that you read the entire post and wrestle with Arialdo's points yourselves; I, for one, think he's on to something. Pre-emptive commit messages have become, for me, something akin to micro <a href="">feature branches</a>.</p>

<p>When using feature branches, you necessarily are pre-planning what all the feature entails, how best to describe/name it, and what it looks like to complete said feature. Pre-emptive commit messages are conceptually the same thing, just on a smaller scale. In addition to considering what an entire feature entails, you consider what your next commit will entail <em>before you start writing any code</em> for that commit. This method of working forces you to <a href="http://programmer.97things.oreilly.com/wiki/index.php/Know_Your_Next_Commit">know your next commit</a>.</p>

<p>As a co-developer pointed out, this is really just taking the philosophy of Test-Driven Development (TDD) and enforcing it's mental model even at the commit level (conceptually, the commit is the atomic unit of Git). Everything you do, you do with purpose. You declare your intention before you begin. You know exactly what the code needs to do for this commit to be ready. You make a promise with yourself.</p>

<hr />

<p>The actual api for <strong><code>git-do</code></strong> is utterly simple. Before you start your next task (by "task" here I mean whatever you conceive of as your smallest unit of work), you run <code>git do "&lt;message&gt;"</code>. As soon as you have completed your task, you run <code>git done</code>. That's it!</p>

<p>Under the hood <strong><code>git-do</code></strong> is doing a few things. First, it will save your commit message to a temporary file (in a created <code>.git/.git-do/</code> directory) as well as the name of whatever branch you are on when you run the <code>git do</code> command. It will then create and checkout a new branch (using the naming schema <code>do/&lt;slugify(message)&gt;</code>). <strong><code>git-do</code></strong> checkouts out a new branch so that you have a safe "sand-box" to do your work, allowing you to leave if something urgent comes up (e.g. you need to create a hotfix branch from master and solve a critical problem). This branch, however, will be deleted as soon as you run <code>git done</code>, so you should always think of it and treat it as a temporary branch.</p>

<p>As you do your work in the <code>do/</code> branch, you need not commit anything. Remember, <strong><code>git-do</code></strong> exists at the level of the individual commit. If you think you want to use <strong><code>git-do</code></strong>, but think you will probably have multiple commits, create a feature branch instead. Once you have finished whatever constitutes your commit, you run <code>git done</code>. This will stage and commit all of the changes made in the <code>do/</code> branch. It will use the message your wrote for <code>git do</code> as the actual commit message. It will then checkout the <code>do/</code> branch's parent branch and merge that one commit. This merge must be a <a href="">fast forward merge</a>, which means you can't have changed or done anything in the parent branch after running <code>git do</code> but before running <code>git done</code> (Again, anything you do using <strong><code>git-do</code></strong> should fit in one commit and should be your branch's next commit. Don't let the fact that <strong><code>git-do</code></strong> creates a temporary branch lull you into thinking you should treat your work there as anything but a single, simple commit).</p>

<p>After merging your commit into the original parent branch, <code>git done</code> will delete the <code>do/</code> branch. So, if you have a terminal prompt that doesn't specify the current branch, you would never know the <code>do/</code> branch ever existed. Your commit history would look exactly as it would had you done the work and written the commit message at the end.</p>

<p>Below is a (contrived) example to demonstrate how simple and short I believe the workflow ought to be:</p>

<div class="highlight shell"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre><span class="gp">$ </span>git <span class="k">do</span> <span class="s2">"Demonstrate how git-do works for my project page"</span>
<span class="gp">$ </span>touch demonstration.txt
<span class="gp">$ </span>vi demonstration.txt
<span class="gp">$ </span>git <span class="k">done</span>
</pre></td></tr></tbody></table>
</div>
</div>

    <!-- Get all projects for which there are articles -->
    <!-- Iterate over these projects -->
        <!-- If the project with articles matches the project passed in to create this template, list the articles -->
</div>
    </div>

    <aside id="sidebar">

  <div id="comic">
  </div>

  <hr class="fractal">

  <div id="recent-articles">
    <h5>Recent Articles</h5>
    <ul class="fa-ul">
        <li>
          <i class="fa-li fa fa-chevron-right"></i>
          <a href="../../articles/deleting-old-git-branches/">Deleting old Git branches</a>
        </li>
        <li>
          <i class="fa-li fa fa-chevron-right"></i>
          <a href="../../articles/you-made-and-unmade/">You, Made and Unmade</a>
        </li>
        <li>
          <i class="fa-li fa fa-chevron-right"></i>
          <a href="../../articles/conjunctive-binarism/">Conjunctive Binarism</a>
        </li>
        <li>
          <i class="fa-li fa fa-chevron-right"></i>
          <a href="../../articles/on-lent-and-marriage/">On Lent and Marriage</a>
        </li>
        <li>
          <i class="fa-li fa fa-chevron-right"></i>
          <a href="../../articles/a-depressed-graduate-student/">A Depressed Graduate Student</a>
        </li>
    </ul>
  </div>

  <div id="all-tags">
    <h5>Tags</h5>
    <ul>
      <!-- Add all Article tags -->
        <li>
          <a class="badge no-hvr" id="hackademics" href="/topics/hackademics/">hackademics (1)</a>
        </li>
        <li>
          <a class="badge no-hvr" id="grad-school" href="/topics/grad-school/">grad-school (2)</a>
        </li>
        <li>
          <a class="badge no-hvr" id="logic" href="/topics/logic/">logic (1)</a>
        </li>
        <li>
          <a class="badge no-hvr" id="epistemology" href="/topics/epistemology/">epistemology (1)</a>
        </li>
        <li>
          <a class="badge no-hvr" id="til" href="/topics/til/">til (1)</a>
        </li>
        <li>
          <a class="badge no-hvr" id="example" href="/topics/example/">example (1)</a>
        </li>
        <li>
          <a class="badge no-hvr" id="christianity" href="/topics/christianity/">christianity (1)</a>
        </li>
        <li>
          <a class="badge no-hvr" id="love" href="/topics/love/">love (1)</a>
        </li>

      <!-- Add all Project tags -->
        <a class="badge no-hvr" id="alfred" href="/topics/alfred">alfred (9)</a>
        <a class="badge no-hvr" id="git" href="/topics/git">git (1)</a>
        <a class="badge no-hvr" id="bash" href="/topics/bash">bash (2)</a>
        <a class="badge no-hvr" id="python" href="/topics/python">python (1)</a>
    </ul>
  </div>

</aside>


    <footer role="contentinfo">
  <div class="footer-info">
    <p>&copy; Copyright 2015 by Stephen Margheim</p>
    <p>Powered by <a href="https://middlemanapp.com">Middleman</a>.</p>
  </div>
</footer>


  </body>
</html>
